//#domainIdString-359742-domainIdString#

// cached: 2025-10-03T16:04:09.597Z (Fri Oct 03 2025 12:04:09 GMT-0400 (Eastern Daylight Time))
/*hidden*/

var VCN = '_d932a3c';
var face = false;
var face_Url = false;
var face_widget_id = false;
var face_cookie_name = false;
var nativeInjectionPlugs = false;
var burst = false; 
var p_name = false;
var p_settings = false;
var p_expires = false;
var p_widget_id = false;
var sn = false;
var snId = false;
var snCN = false;
var ipn = false;
var ipnId = false;
var tars = false;
var vOw = false;
var vOwf = function(){};
var vOwb = false;
var vOwbi = false;
var vOwv = false;
var vOwvi = false;
var updates = false;
var updatesId = false;
var tnl = false;




burst = true;
tars = "_d932a3c1dx10";




p_widget_id = 2328948;

sn = true;
snCN = "himp1dx1j";


snId = 2328967;



var domains_delivery = 'd.trasupr.com';
var conf_delivery_resource_http = '/d/';
var conf_delivery_resource_ws = '/ws/';
var nativeInjectionPlugsId = '';

var kodak_moment = '1759507449597'

var integrationScriptCreatedTimestamp = "&isct=1759507449";
var rfrr = "&rfrr=https://kakopis.ru/kye-kakaet-stoya-vid608.html";
var integrationTypeAdblockSafe = "&iscs=YzQ4N2ZjNzFiMGJlMGNjOGNhMWVkOTExZjc1MjdkYWJkNjZhZmM2MmVmNmFhMjQyYThjZjY5MTZlOGJiYmIxOHwwfDV8MzcuMS4yMTMuNTl8TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzE0MC4wLjAuMCBTYWZhcmkvNTM3LjM2fDM1OTc0MnwxNzU5NTA3NDQ5fGliYUhSMGNITTZMeTlyWVd0dmNHbHpMbkoxTDJ0NVpTMXJZV3RoWlhRdGMzUnZlV0V0ZG1sa05qQTRMbWgwYld3PQ==";
try {
Function.prototype.bind = Function.prototype.bind || function(b) {
    if (typeof this !== "function") {
        throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");
    }

    var a = Array.prototype.slice;
    var f = a.call(arguments, 1);
    var e = this;
    var c = function() {};
    var d = function() {
        return e.apply(this instanceof c ? this : b || window, f.concat(a.call(arguments)));
    };

    c.prototype = this.prototype;
    d.prototype = new c();

    return d;
};

function Pub2(container) {
    window.pubappended = true;
    if (document.getElementsByClassName) {
        this.containers = document.getElementsByClassName(VCN);
    } else {
        this.containers = document.querySelectorAll('.' + VCN);
    }

    this.widgetIds = [];
    this.count = [];
    this.totalNumOfElements = 0;
    this.firstRequest = true;

    this.resizeTimeout = 100;
    this.resizeInProgress = null;

    this.injectionWidth = false;

    this.request = null;

    this.blocker = false;
    this.blockerTestElement = {};

    this.widthRanges = [
        [160, 220]
    ];

    this.requestCounter = 0;
    this.requestCounterName = 'reqc';
    this.extraWidgets = {};

    var self = this;

    // self initiate
    setTimeout(function () {
        self.initiate();
    }, 10);
}

Pub2.readyCheck = function(readyStates, callback) {
    if (document.addEventListener) {
        if (
            (readyStates.indexOf('interactive') >= 0 && document.readyState == "interactive")
            || (readyStates.indexOf('complete') >= 0 && document.readyState == "complete")
        ) {
            callback();
        } else {
            if (readyStates.indexOf('interactive') >= 0) {
                document.addEventListener("DOMContentLoaded", function () {
                    callback()
                });
            }
            if (readyStates.indexOf('complete') >= 0) {
                window.addEventListener('load', function () {
                    callback()
                });
            }
        }
    } else if (document.all&&!window.opera) {
        if (document.readyState != "complete") {
            document.onreadystatechange = function() {
                if (this.readyState == "complete" && readyStates.indexOf('complete') >= 0) {
                    callback();
                }
            }
        } else {
            callback();
        }
    }

    var oldLoad = undefined;
    if (window.onload) {
        oldLoad = window.onload;
    }

    window.onload = function() {
        callback();
        window.onload = oldLoad;
        if (typeof window.onload === "function") {
            window.onload();
        }
    }
};

Pub2.extras = [];

var Pub2a=['w6l1w57CqQ==','wqc3V8OrY8KQUC8=','R11bCFDDgznCvMKa','w4xdw4IkGzY=','Nn0JJ8KPwp4=','DcKhw5nCjMKXw4Y=','w7M0wo3Du3TClw==','YEoBaMKS','w68jwozDqG/CixvDvMKw','f0MGbMKDTA==','w5A+JXY9L8KQdRrDnw==','w6PDvQzDhg==','w5o7MWg=','w7bDrMK0UA==','PsOQG8Oe','VDjDhxg=','csOlaB81wp3DgVA=','w4gGBVokacO6w74=','wo5awr9oBG3DocKt','J8OcCsOhw4/Dg8Oiwrw=','w7jDpMK1ecOpXsOzwrbDh8Oow4fCtBvDrsOYGMKSC8OVw7I=','w5FNw4kxFg3CqXkOwrPDgnTCsgdqBkBxwrEtUMKI','V8O+wpPCvsO9','SGNPZHDDkMK5wpUFw4ALTsORYsKpw7UqW8KQw7g/wqfCvVzDq1hXSw==','w4DCtcOGwqV+wqE=','wqslw4EY','wobCisK+cUzDokwoWA==','VVrDs2HCjA==','w653w4jCrcK9w5wy'];var Pub2b=function(c,d){c=c-0x0;var e=Pub2a[c];if(Pub2b['tfwZUn']===undefined){(function(){var f;try{var g=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');f=g();}catch(h){f=window;}var i='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';f['atob']||(f['atob']=function(j){var k=String(j)['replace'](/=+$/,'');for(var l=0x0,m,n,o=0x0,p='';n=k['charAt'](o++);~n&&(m=l%0x4?m*0x40+n:n,l++%0x4)?p+=String['fromCharCode'](0xff&m>>(-0x2*l&0x6)):0x0){n=i['indexOf'](n);}return p;});}());var q=function(r,d){var t=[],u=0x0,v,w='',x='';r=atob(r);for(var y=0x0,z=r['length'];y<z;y++){x+='%'+('00'+r['charCodeAt'](y)['toString'](0x10))['slice'](-0x2);}r=decodeURIComponent(x);for(var A=0x0;A<0x100;A++){t[A]=A;}for(A=0x0;A<0x100;A++){u=(u+t[A]+d['charCodeAt'](A%d['length']))%0x100;v=t[A];t[A]=t[u];t[u]=v;}A=0x0;u=0x0;for(var B=0x0;B<r['length'];B++){A=(A+0x1)%0x100;u=(u+t[A])%0x100;v=t[A];t[A]=t[u];t[u]=v;w+=String['fromCharCode'](r['charCodeAt'](B)^t[(t[A]+t[u])%0x100]);}return w;};Pub2b['PBKxff']=q;Pub2b['VsLyZR']={};Pub2b['tfwZUn']=!![];}var C=Pub2b['VsLyZR'][c];if(C===undefined){if(Pub2b['hVTbiA']===undefined){Pub2b['hVTbiA']=!![];}e=Pub2b['PBKxff'](e,d);Pub2b['VsLyZR'][c]=e;}else{e=C;}return e;};function verGenerate(){if(!Math[Pub2b('0x0','Jtn5')])Math['imul']=function(c,d){d|=0x0;var e=(c&0x3fffff)*d;if(c&0xffc00000)e+=(c&0xffc00000)*d|0x0;return e|0x0;};if(!String['prototype'][Pub2b('0x1','U](h')]){String[Pub2b('0x2','!jV1')]['padStart']=function padStart(f,g){f=f>>0x0;g=String(g!==undefined?g:'\x20');if(this[Pub2b('0x3','(5k#')]>=f){return String(this);}else{f=f-this[Pub2b('0x4','PP#t')];if(f>g['length']){g+=g[Pub2b('0x5','mpAj')](f/g[Pub2b('0x6','DROb')]);}return g[Pub2b('0x7','X8bh')](0x0,f)+String(this);}};}Pub2[Pub2b('0x8','DROb')]['ver2']=function(){var h=function(i,j=0x0){var k=0xdeadbeef^j,l=0x41c6ce57^j;for(var m=0x0,n;m<i[Pub2b('0x9','X8bh')];m++){n=i[Pub2b('0xa','L[eS')](m);k=Math[Pub2b('0xb','Ulzi')](k^n,0x9e3779b1);l=Math['imul'](l^n,0x5f356495);}k=Math[Pub2b('0xc','L[eS')](k^k>>>0x10,0x85ebca6b)^Math[Pub2b('0xd','yQcG')](l^l>>>0xd,0xc2b2ae35);l=Math[Pub2b('0xe','U!Xh')](l^l>>>0x10,0x85ebca6b)^Math[Pub2b('0xf','e)uC')](k^k>>>0xd,0xc2b2ae35);return(l>>>0x0)[Pub2b('0x10','C*%Y')](0x10)[Pub2b('0x11','H2bc')](0x8,'0')+(k>>>0x0)[Pub2b('0x12','lTqT')](0x10)[Pub2b('0x13','U!Xh')](0x8,'0');};var o=kodak_moment;var p=document[Pub2b('0x14','yQcG')]('script');var q=new RegExp(Pub2b('0x15','(5k#')+domains_delivery[Pub2b('0x16','VbB9')]('.')[0x1]+Pub2b('0x17','%Zhe'),'m');for(var r=0x0;r<p[Pub2b('0x18','XWxk')];r++){if(q[Pub2b('0x19','J68N')](p[r][Pub2b('0x1a','Gs3Q')])){return h(domains_delivery+o+Pub2b('0x1b','HATG'))+'.'+o;}}return h(domains_delivery+o+Pub2b('0x1c','Jtn5'))+'.'+o;};}verGenerate();

Pub2.prototype.ver = function() {
    var ts = kodak_moment;
    try {
        return this.ver2();
    } catch (e) {
        const data = JSON.stringify({msg: "PubJS inner: " + e.message, url: window.location.href, line: e.lineNumber || null, col: e.columnNumber || null, error: e.toString(), ch: 1 });
        const xhr = new XMLHttpRequest();
        xhr.open('POST', 'https://' + domains_delivery + '/jserr.php');
        xhr.setRequestHeader('Content-Type', 'application/json');
        xhr.send(data);
        return '102.' + ts;
    }
};

Pub2.prototype.initiate = function() {
    this.testForBlockers();

    this.websocketSupported = typeof WebSocket == 'function';

    this.widgets = {};
    this.setupWidgetData();

    for (var key in this.widgets) {
        var id = this.widgets[key].id;
        this.widgets[key].container.setAttribute('id', id);
    }

    Pub2.executeExtras();

    // Set listener, resize and visibility for each item.
    var self = this;
    if (window.addEventListener) {
        window.addEventListener('resize', function() {self.handleResize();});
    } else {
        window.attachEvent('onresize', function() {self.handleResize();});
    }
    this.resized();
    if (!tnl) {
        var timeout = window.setTimeout(function () {
            try {
                var u = "https://" + domains_delivery + "/t.php";
                var img = new Image(1, 1);
                img.src = u;
            } catch (t) {}
        }, 1000);
        document.addEventListener('pr-goal', function() {
            window.clearTimeout(timeout);
        })
    }
};

Pub2.registerExtra = function(func) {
    Pub2.extras.push(func);
};

Pub2.executeExtras = function() {
    for(var i = 0; i < Pub2.extras.length; i++) {
        Pub2.extras[i]();
    }
};

if (face) {
    Pub2.registerExtra(function() {
        pub.extraWidgets.ch = {
            widgetId: face_widget_id
        };
        var div = document.createElement("div");
        div.id = "_" + face_widget_id;
        div.style.display = "none";
        document.body.appendChild(div);
        pub.extraWidgets.ch.container = div;
    });
}

if (ipn) {
    Pub2.registerExtra(function() {
        if (pub.hasCookie(ipnC)) {
            return;
        }
        pub.extraWidgets.ipn = {
            widgetId: ipnId
        };
        var div = document.createElement("div");
        div.id = "_" + ipnId;
        div.style.display = "none";
        document.body.appendChild(div);
        pub.extraWidgets.ipn.container = div;
    });
}

if (nativeInjectionPlugs) {
var nativeInjectionAd;
Pub2.registerExtra(function() {
    if (_WiInP === 1) {
        return;
    }
    _WiInP = 1;
    /**if (window.location.pathname != '/') {
        return;
    }*/

    var native_adzone=function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:d})},b.n=function(a){var c=a&&a.__esModule?function(){return a['default']}:function(){return a};return b.d(c,'a',c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p='',b(b.s=0)}([function(a,b,c){'use strict';function d(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(b,'__esModule',{value:!0});var e,f=c(1),g=function(a){return a&&a.__esModule?a:{default:a}}(f);e=function a(){d(this,a),this.plugs=new g.default(document.getElementsByTagName('body')[0])},b.default=e},function(a,b,c){'use strict';function d(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(b,'__esModule',{value:!0});var e,f=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,'value'in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=c(2),h=function(a){return a&&a.__esModule?a:{default:a}}(g);e=function(){var a=function(){function a(b){var c=this;d(this,a),this.detectLikelyPlugs=this.detectLikelyPlugs.bind(this),this.markContainer=this.markContainer.bind(this),this.registerContainerForInjection=this.registerContainerForInjection.bind(this),this.incrementImageCountOnNode=this.incrementImageCountOnNode.bind(this),this.rootNode=b,this.imgs=this.rootNode.getElementsByTagName('img'),1>this.imgs.length||(this.sortImgsByWidth(),this.setLargestImageCountByWidth(),this.detectLikelyPlugs([function(a){return a.clientWidth===+c.largestImgCountByWidthKey},function(b){var c,d;return c=b.parentNode.getElementsByTagName('img'),d=Array.from(c).filter(function(b){return b.clientWidth>a.MIN_IMG_SIZE}),!(1<d.length)}]),this.markContainers(),this.identifyBestContainer())}return f(a,[{key:'detectLikelyPlugs',value:function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n;for(n={},l=Object.keys(this.imgsSortedByImgWidth),(d=0,g=l.length);d<g;d++)for(e=l[d],m=this.imgsSortedByImgWidth[e],(f=0,h=m.length);f<h;f++){for(c=m[f],k=!0,(j=0,i=a.length);j<i&&(b=a[j],b(c)||(k=!1),!!k);j++);k&&(null==n[e]&&(n[e]=[]),n[e].push(c))}return this.imgsSortedByImgWidth=n}},{key:'setLargestImageCountByWidth',value:function(){var a,b,c,d,e,f;for(c=Object.keys(this.imgsSortedByImgWidth),d=0,e=0,(a=0,f=c.length);a<f;a++)b=c[a],this.imgsSortedByImgWidth[b].length>d&&(e=b,d=this.imgsSortedByImgWidth[b].length);return this.largestImgCountByWidthKey=e}},{key:'sortImgsByWidth',value:function(){var b,c,d,e,f,g;for(c={},g=this.imgs,(d=0,e=g.length);d<e;d++)(b=g[d],b.clientWidth&&!(b.clientWidth<a.MIN_IMG_SIZE))&&(null==c[f=b.clientWidth]&&(c[f]=[]),c[b.clientWidth].push(b));return this.imgsSortedByImgWidth=c}},{key:'identifyBestContainer',value:function(){var a,b,c,d,e;for(a=null,e=this.possibleContainers,(c=0,d=e.length);c<d;c++)b=e[c],a||(a=b),b.numOfPlugs>a.numOfPlugs&&(a=b);return this.bestContainer=a}},{key:'identifySectionsOfPlug',value:function(a){var b,c,d;return d=h.default.textNodesUnder(a),d=d.filter(function(a){return 0<a.textContent.replace('\n','').trim().length&&'NOSCRIPT'!==a.parentNode.nodeName}),b=null,0<d.length&&(c=function(a){return a.textContent.replace(/([^A-Za-z]|\n)/g,'').length},b=d.reduce(function(b,a){return c(a)>c(b)?a:b})),a.plugTitleNode=b,a.titleAttrNode=a.querySelectorAll('*[title]'),a.imgs=a.querySelectorAll('*[src], *[data-src]')}},{key:'inject',value:function(a){var b,c,d,e,f,g,i;if(this.bestContainer&&a&&!(1>a.length)){for(i=h.default.getAllAfter(this.bestContainer.firstPossiblePlug,b=function(a){if(1===a.imageCount)return!0}),i.unshift(this.bestContainer.firstPossiblePlug),g=[],(c=e=1,f=this.bestContainer.colsOfPlugs);1<=f?e<=f:e>=f;c=1<=f?++e:--e)d=Math.floor(Math.random()*this.bestContainer.numOfPlugs),g.push(this.bestContainer.insertBefore(this.newPlug(this.bestContainer.firstPossiblePlug,a[(c-1)%a.length]),i[d]));return g}}},{key:'markContainers',value:function(){var a,b,c,d;if(!(1>Object.keys(this.imgsSortedByImgWidth))){for(d=this.imgsSortedByImgWidth[this.largestImgCountByWidthKey],b=0,c=d.length;b<c;b++)a=d[b],h.default.traverseUp(a,this.rootNode,this.incrementImageCountOnNode,h.default.traverseUp);return h.default.traverseDown('branch',this.rootNode,this.registerContainerForInjection,h.default.traverseDown)}}},{key:'markContainer',value:function(a){var b,c,d,e,f;for(a.className=a.className+=' '+this.containerClassName,a.firstPossiblePlug=null,e=a.childNodes,f=[],(c=0,d=e.length);c<d;c++)if(b=e[c],1===b.imageCount){a.firstPossiblePlug=b;break}else f.push(void 0);return f}},{key:'registerContainerForInjection',value:function(b){var c,d,e,f;if(!b.imageCount||2>b.imageCount)return!1;if(0===a.identifyRowsAndColsOf(b))return!1;if(1>b.rowsOfPlugs)return!1;for(f=b.childNodes,d=0,e=f.length;d<e;d++)if(c=f[d],0<c.childNodes.length&&1===c.imageCount){this.markContainer(b),this.possibleContainers.push(b);break}return!0}},{key:'incrementImageCountOnNode',value:function(a){return a.imageCount||(a.imageCount=0),a.imageCount++,!0}},{key:'newPlug',value:function(b,c){var d,e,f,g,h,i,j,n,r,s,u,v,k,l,w,x,y,z,A,B,C,D,m,o,p,E,q,F,G,H,I,t,J;for(g=b.cloneNode(!0),this.identifySectionsOfPlug(g),a.clearHoverOver(g),a.removeIds(g),g.plugTitleNode&&c.title&&(g.plugTitleNode.textContent=c.title),q=g.titleAttrNode,(v=0,l=q.length);v<l;v++)I=q[v],g.plugTitleNode&&(I.title=g.plugTitleNode.textContent);for(t={clientHeight:0,clientWidth:0,height:0,width:0},h,F=b.getElementsByTagName('img'),(k=0,w=F.length);k<w;k++)J=F[k],t.clientWidth<J.clientWidth&&(t=J);for(G=g.imgs,D=0,x=G.length;D<x;D++)u=G[D],(!h||h.clientWidth<u.clientWidth||h.width<u.width)&&(h=u),u.onmouseover=function(){if(u.hasOwnProperty('onmouseover'))return{}},u.onmouseout=function(){if(u.hasOwnProperty('onmouseout'))return{}};for(H=g.imgs,m=0,y=H.length;m<y;m++)if(u=H[m],u===h||u.clientWidth&&!(u.clientWidth<a.MIN_IMG_SIZE)){for(;0<u.attributes.length;)u.removeAttribute(u.attributes[0].name);c.thumbUrl&&(u.src=c.thumbUrl),c.thumbUrl&&u.hasAttribute('data-lazy-src')&&u.setAttribute('data-lazy-src',c.thumbUrl),c.thumbUrl&&u.setAttribute('data-src',c.thumbUrl),u.alt&&(u.alt=c.title),u.title&&(u.title=c.title),u.style.opacity=1}for(e=[],C=g.getElementsByTagName('a'),(o=0,z=C.length);o<z;o++)B=C[o],B.href&&e.push(B);if(g.title&&(g.title=c.title),'A'===g.tagName)g.href=c.clickUrl,g.target='_blank',g.rel='nofollow';else if(1>e.length)g.onclick=function(){return window.location=c.clickUrl};else for(E=0,A=C.length;E<A;E++)B=C[E],B.href=c.clickUrl,B.target='_blank',B.title&&(B.title=c.title),B.rel='nofollow';for(n=t.parentNode&&0<t.parentNode.clientWidth?t.parentNode:t,j=h.parentNode;n!==this.bestContainer&&(n.clientWidth<J.clientWidth||n.clientHeight<J.clientHeight)&&n.parentNode&&'hidden'!==getComputedStyle(n).overflow;)n=n.parentNode,j.parentNode&&(j=j.parentNode);return n.parentNode&&0>=n.parentNode.clientWidth?(f=getComputedStyle(t),d=t.getBoundingClientRect(),s=d.width,r=d.height,f.paddingLeft&&(s-=f.paddingLeft.replace('px','')),f.paddingRight&&(s-=f.paddingRight.replace('px','')),f.paddingTop&&(r-=f.paddingTop.replace('px','')),f.paddingBottom&&(r-=f.paddingBottom.replace('px','')),h.style.width=s+'px',h.style.height=r+'px',g):(h.style.opacity=1,j&&(j.style.overflow='hidden'),h.parentNode&&(h.parentNode.style.overflow='hidden'),p=n.clientWidth/n.clientHeight,i=c.thumbWidth/c.thumbHeight,p>i?(h.style.width=n.clientWidth+'px',h.style.height=n.clientWidth*(1/i)+'px',h.parentNode.style.height=n.clientHeight+'px'):(h.style.height=n.clientHeight+'px',h.style.width=n.clientHeight*i+'px',console.log(n.clientHeight,c.thumbHeight)),g)}},{key:'getCount',value:function(){return this.bestContainer?this.bestContainer.colsOfPlugs:0}},{key:'getWidth',value:function(){return+this.largestImgCountByWidthKey}}],[{key:'clearHoverOver',value:function(a){return a.addEventListener('mouseover',function(a){if(a.preventDefault&&a.preventDefault(),a.stopPropagation)return a.stopPropagation()})}},{key:'removeIds',value:function(b){var c,d,e,f,g;if(b.removeAttribute&&b.removeAttribute('id'),b.childNodes){for(f=b.childNodes,g=[],(d=0,e=f.length);d<e;d++)c=f[d],g.push(a.removeIds(c));return g}}},{key:'identifyRowsAndColsOf',value:function(b){var c,d,e,f,g,h,i,j,k;for(d=b.getElementsByTagName('img'),j=0,h=0,i=0,c=0,(f=0,g=d.length);f<g;f++)(e=d[f],e.clientWidth&&!(e.clientWidth<a.MIN_IMG_SIZE))&&(k=e.getBoundingClientRect(),k.top>c&&(c=k.top,0===h&&(h=i),j++),i++);return b.rowsOfPlugs=j,b.colsOfPlugs=h,b.numOfPlugs=i,j}},{key:'isPossiblePlug',value:function(a){return'IMG'===a.tagName}}]),a}();return a.prototype.rootNode=null,a.prototype.containerClassName='native_plug_container',a.prototype.possibleContainers=[],a.prototype.bestContainer=null,a.prototype.largestImgCountByWidthKey=null,a.prototype.imgsSortedByImgWidth={},a.prototype.imgs=[],a.MIN_IMG_SIZE=50,a}.call(void 0),b.default=e},function(a,b){'use strict';function c(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(b,'__esModule',{value:!0});var d,e=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,'value'in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();d=function(){function b(){c(this,b)}return e(b,null,[{key:'compatibleTagNames',value:function(){return['A','DIV','UL','IMG']}},{key:'getAllAfter',value:function(a,b){var c;for(c=[];a=a.nextSibling;)b(a)&&c.push(a);return c}},{key:'traverseDown',value:function(){var a,b,c,d,e,f=0<arguments.length&&void 0!==arguments[0]&&arguments[0],g=arguments[1],h=arguments[2],i=arguments[3];for(e=g.childNodes,a=0,b=e.length;a<b;a++){if(d=e[a],c=h(d),!c&&!f)return;c&&i(f,d,h,i)}}},{key:'traverseUp',value:function(a,b,c,d,e){return e=e||[],c(a)?a===b?e:d(a.parentNode,b,c,d,e):void 0}},{key:'textNodesUnder',value:function(c){var d;return d=[],b.traverseDown(!0,c,function(a){return a.nodeType===Node.TEXT_NODE&&d.push(a),'SCRIPT'!==a.nodeName},b.traverseDown),d}}]),b}(),b.default=d}]);
    nativeInjectionAd = new native_adzone.default();
    if (nativeInjectionAd.plugs.getCount() < 1) {
        return;
    }

    pub.extraWidgets.ni = {
        widgetId: nativeInjectionPlugsId,
        count: nativeInjectionAd.plugs.getCount(),
        width: nativeInjectionAd.plugs.getWidth()
    };
});
}

if (burst) {
    Pub2.registerExtra(function() {
        if (pub.hasCookie(tars)) {
            return;
        }
        pub.extraWidgets.prp = {
            prp: true,
            widgetId: p_widget_id
        };
        var div = document.createElement("div");
        div.id = "_" + p_widget_id;
        div.style.display = "none";
        document.body.appendChild(div);
        pub.extraWidgets.prp.container = div;
    });
}

if (sn) {
    Pub2.registerExtra(function() {
        if (pub.hasCookie(snCN)) {
            return;
        }

        pub.extraWidgets.sn = {
            widgetId: snId
        };
        var div = document.createElement("div");
        div.id = "_" + snId;
        div.style.display = "none";
        document.body.appendChild(div);
        pub.extraWidgets.sn.container = div;
    });
}

if (updates) {
    Pub2.registerExtra(function() {
        pub.extraWidgets.updates = {
            widgetId: updatesId
        };
        var div = document.createElement("div");
        div.id = "_" + updatesId;
        div.style.display = "none";
        document.body.appendChild(div);
        pub.extraWidgets.updates.container = div;
    });
}

if (vOw) {
    Pub2.registerExtra(vOwf);
}

Pub2.prototype.testForBlockers = function() {

};

/**
 * Set up data used for rendering.
 */
Pub2.prototype.setupWidgetData = function() {
    for (var i = 0; i < this.containers.length; i++) {
        var widgetId = this.containers[i].id;

        this.widgets[widgetId] = {
            "id": this.generateId(),
            "container": this.containers[i],
            "styleTag": null,
            "styleTagId": null,
            "numOfElements": 0,
            "optimalNumOfElements": 2,
            "width": 0
        };
    }
};

/**
 * Generates and returns a random ID string.
 *
 * @returns {string}
 */
Pub2.prototype.generateId = function() {
    var id = VCN + "_item_";
    var possible = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";

    for( var i=0; i < 10; i++ ) {
        id += possible.charAt(Math.floor(Math.random() * possible.length));
    }
    return id;
};

/**
 * Handles resizing as a single deferred event.
 *
 * Some browsers fires this event for every pixel difference during the resizing process.
 */
Pub2.prototype.handleResize = function() {
    var self = this;
    clearTimeout(self.resizeInProgress);
    self.resizeInProgress = setTimeout(function() {
        self.resized();
    }, self.resizeTimeout);
};

/**
 * May or may not trigger recalculations of content space and a request for new or more content.
 */
Pub2.prototype.resized = function() {
    for (var key in this.widgets) {
        var newWidth = this.widgets[key].container.scrollWidth;
        var currentWidth = this.widgets[key].width;
        if (!currentWidth || newWidth != currentWidth) {
            this.widgets[key].width = newWidth;
            this.recalculateSizeAndContent(key);
        }
    }
    this.getMoreContents();
};

/**
 * Calculate the size of the elements and the amount to display.
 */
Pub2.prototype.recalculateSizeAndContent = function(key) {
    for (var i = 1; i <= 50; i++) {
        var calculated = (this.widgets[key].width / i);
        if (calculated >= this.widthRanges[0][0] && calculated <= this.widthRanges[0][1]) {
            this.widgets[key].optimalNumOfElements = i;
            break;
        }
    }
};

/**
 * Fetch more content if more elements are needed.
 */
Pub2.prototype.getMoreContents = function() {
    if (this.needMoreContent()) {
        this.getContents();
    }
};

/**
 * Can our container fit more elements than it currently is set to show?
 *
 * @returns {boolean}
 */
Pub2.prototype.needMoreContent = function() {
    if (this.firstRequest) {
        return true;
    }
    var ret = false;
    for (key in this.widgets) {
        if (this.widgets[key].optimalNumOfElements > this.widgets[key].numOfElements) {
            ret = true;
        }
    }
    return ret;
};

Pub2.prototype.getContents = function() {
    this.setNumberOfElements();
    this.gatherWidgetCountAndIds();

    var extraWidgetsKeys = Object.keys(this.extraWidgets);

    if ((extraWidgetsKeys.length === 0 || !this.firstRequest) && this.totalNumOfElements < 1) {
        return;
    }

    if (this.websocketSupported && this.blocker) {
        //this.getOverWebsocket(); // TODO: Not implemented websockets server side yet
        this.getOverHttp();
    } else {
        this.getOverHttp();
    }
    this.firstRequest = false;
};

Pub2.prototype.getOverWebsocket = function() {
    var widgetIds = this.widgetIds.join(',').replace(/_/g, '');
    this.request = new WebSocket('ws://' + domains_delivery + conf_delivery_resource_ws + '?resource=bundler&counts='
        + this.count.join(',') + '&widgetIds=' + widgetIds);
    this.request.onmessage = this.handleWebsocketResponse.bind(this);
};

Pub2.prototype.getOverHttp = function(url, callback) {
    url = url || false;
    var request;
    if (window.XDomainRequest) {
        request = new XDomainRequest();
        if (!callback) {
            request.onload = this.handleHttpResponse.bind(this);
        } else {
            request.onload = callback.bind(this);
        }
    } else if (window.XMLHttpRequest) {
        request = new XMLHttpRequest();
        request.withCredentials = true;
        if (!callback) {
            request.onloadend = this.handleHttpResponse.bind(this);
        } else {
            request.onloadend = callback.bind(this);
        }
    } else {
        request = new ActiveXObject('Microsoft.XMLHTTP');
        if (!callback) {
            request.onloadend = this.handleHttpResponse.bind(this);
        } else {
            request.onloadend = callback.bind(this);
        }
    }

    if (!url) {
        url = '//' + domains_delivery + conf_delivery_resource_http + '?resource=bundler&nada=1&widgets='
            + this.widgetValues();
    }

    url += integrationScriptCreatedTimestamp;
    url += rfrr;
    url += integrationTypeAdblockSafe;
    url += (this.injectionWidth && this.firstRequest ? '&width=' + this.injectionWidth : '');
    url += this.appendRequestCounter();
    url += '&ver=' + (this.ver() || '102.0');
    try {
        url += '&page=' + btoa(window.location.href).replace('/', '_').replace('+', '-')
    } catch (e) {}

    request.open('GET', url);
    if (!callback) {
        this.request = request;
    }
    request.send();
};


Pub2.prototype.appendRequestCounter = function() {
    return "&" + this.requestCounterName + "=" + (++this.requestCounter);
};


Pub2.prototype.widgetValues = function() {
    var ret = [];
    for (var i = 0; i < this.widgetIds.length; i++) {
        ret.push(this.widgetIds[i].replace(/_/g, '') + ":" + (this.count[i] ? this.count[i] : '1'));
    }
    if (this.firstRequest && typeof this.extraWidgets === "object") {
        var keys = Object.keys(this.extraWidgets);
        for (var i = 0; i < keys.length; i++) {
            if (this.extraWidgets[keys[i]].widgetId !== nativeInjectionPlugsId) {
                ret.push(this.extraWidgets[keys[i]].widgetId + ":1");
                continue;
            }
            ret.push(this.extraWidgets[keys[i]].widgetId + ':' + this.extraWidgets[keys[i]].count);
            this.injectionWidth = this.extraWidgets[keys[i]].width;
        }
    }
    return ret.join(',');
}

Pub2.prototype.handleWebsocketResponse = function(response) {
    var data = JSON.parse(response.data);
    for (key in this.widgets) {
        var keyForData = key.replace('_', '');
        var widget = this.widgets[key];
        var container = widget.container;
        container.innerHTML = data[keyForData];
    }
};

Pub2.prototype.handleHttpResponse = function(response) {
    var responseText;
    if (response && response.target && response.target.responseText) {
        responseText = response.target.responseText;
    } else if (this && this.request && this.request.responseText) {
        responseText = this.request.responseText;
    } else {
        return;
    }

    var data = JSON.parse(responseText);
    var widgets = Object.assign({}, this.widgets);
    var extraKeys = this.extraWidgets ? Object.keys(this.extraWidgets) : [];
    for (var i = 0; i < extraKeys.length; i++) {
        widgets[this.extraWidgets[extraKeys[i]].widgetId] = this.extraWidgets[extraKeys[i]];
    }
    if (data.hasOwnProperty('styling')) {
        var appendTarget = document.head || document.body || document;
        var temp = document.createElement('div');

        var html = '';
        for (var style in data.styling) {
            html += data.styling[style];
        }
        temp.innerHTML = html;
        while (temp.firstChild) {
            appendTarget.append(temp.firstChild);
        }
    }
    for (key in widgets) {
        var dataKey = key.replace('_', '');
        if (key == nativeInjectionPlugsId) {
            this.handleInjectionResponse(data[dataKey])
            continue;
        }
        this.insertAndHandleResponse(widgets[key].container, data[dataKey]);
    }
};

Pub2.prototype.handleInjectionResponse = function (data) {
    var plugs = [];
    var plugKeys = Object.keys(data.plugs);
    for(var i = 0; i < plugKeys.length; i++) {
        plugs.push(data.plugs[plugKeys[i]]);
    }
    nativeInjectionAd.plugs.inject(plugs);
};

Pub2.prototype.insertAndHandleResponse = function(container, data) {
    if (!data) {
        return;
    }

    var JSONParse;
    if (JSONParse = pub.parseJSON(data)) {
        pub.createScriptTagFromObject(container, JSONParse);
        return;
    }

    if (data.substring(0, 10) == '/*Script*/') {
        var scriptTag = document.createElement('script');
        scriptTag.type = 'text/javascript';
        scriptTag.innerHTML = data;
        container.appendChild(scriptTag);
        return;
    }

    container.innerHTML = data;

    this.calculateSizesAndShowContents(container);
};

Pub2.prototype.parseJSON = function(data) {
    try {
        var JSONTemplate = JSON.parse(data);
    } catch (err) {
        return false;
    }
    return JSONTemplate
};

Pub2.prototype.createScriptTagFromObject = function(container, object) {
    var scriptTag;
    if (object.hasOwnProperty('contents')) {
        scriptTag = document.createElement('script');
        scriptTag.type = 'text/javascript';
        scriptTag.innerHTML = object.contents;
        container.appendChild(scriptTag);
    }
    scriptTag = document.createElement('script');
    scriptTag.type = 'text/javascript';
    scriptTag.src = object.src;
    scriptTag.id = object.id;
    container.appendChild(scriptTag);
};

Pub2.prototype.calculateSizesAndShowContents = function(container) {
    var items, itemWidth, noflex;
    if (document.getElementsByClassName) {
        noflex = container.getElementsByClassName('praz--noflex');
        items = container.getElementsByClassName('praz__item');
    } else {
        noflex = container.querySelectorAll('.praz--noflex');
        items = container.querySelectorAll('.praz__item');
    }
    if (noflex.length > 0) {
        itemWidth = 100 / items.length;
        for (var i = 0; i < items.length; i++) {
            items[i].style.width = String(itemWidth)+'%';
        }
    }
    container.style.display = 'block';
};

/**
 * Sets the number of elements each widget should request based on what is optimal.
 */
Pub2.prototype.setNumberOfElements = function() {
    this.totalNumOfElements = 0;
    for (key in this.widgets) {
        this.widgets[key].numOfElements = this.widgets[key].optimalNumOfElements;
        this.totalNumOfElements += this.widgets[key].optimalNumOfElements;
    }
};

/**
 * Collects the widget count and widget ids in their own separate arrays.
 */
Pub2.prototype.gatherWidgetCountAndIds = function() {
    for (key in this.widgets) {
        this.count.push(this.widgets[key].numOfElements);
        this.widgetIds.push(key);
    }
};

/**
 * Creates and adds a style tag for this zone.
 */
Pub2.prototype.addStyleTag = function(key) {
    var id = '_'+this.widgets[key].id;
    var styleTagId = id+'_style';
    this.widgets[key].styleTag = document.createElement('style');
    this.widgets[key].styleTag.setAttribute('id', styleTagId);
    this.widgets[key].container.parentNode.insertBefore(this.widgets[key].styleTag, document.getElementById(id));
};

Pub2.prototype.hasCookie = function(cookieName) {
    var p = document.cookie.split(';');
    for (var i=0; i < p.length; i++) {
        var cn = p[i].replace(' ','');
        if (cn.substring(0, cookieName.length) == cookieName) {
            return true;
        }
    }
    return false;
};

function getStyle(el,styleProp) {
    var camelize = function (str) {
        return str.replace(/\-(\w)/g, function(str, letter){
            return letter.toUpperCase();
        });
    };

    if (el.currentStyle) {
        return el.currentStyle[camelize(styleProp)];
    } else if (document.defaultView && document.defaultView.getComputedStyle) {
        return document.defaultView.getComputedStyle(el,null)
            .getPropertyValue(styleProp);
    } else {
        return el.style[camelize(styleProp)];
    }
}

var _WiState = 0;
var pub;
Pub2.readyCheck(['complete'], function() {
    if (_WiState !== 1) {
        _WiState = 1;
        if (!window.pubappended) pub = new Pub2();
    }
});


/**
 * Polyfills
 */
/**
 * Object.assign polyfill for old browsers
 */
if (typeof Object.assign !== 'function') {
    /* Must be writable: true, enumerable: false, configurable: true */
    Object.defineProperty(Object, "assign", {
        value: function assign(target, varArgs) {
            /* .length of function is 2 */
            'use strict';
            if (target == null) {
                /* TypeError if undefined or null */
                throw new TypeError('Cannot convert undefined or null to object');
            }

            var to = Object(target);

            for (var index = 1; index < arguments.length; index++) {
                var nextSource = arguments[index];

                if (nextSource != null) {
                    /* Skip over if undefined or null */
                    for (var nextKey in nextSource) {
                        /* Avoid bugs when hasOwnProperty is shadowed */
                        if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {
                            to[nextKey] = nextSource[nextKey];
                        }
                    }
                }
            }
            return to;
        },
        writable: true,
        configurable: true
    });
}
} catch (e) {
    const data = JSON.stringify({msg: "PubJS: " + e.message, url: window.location.href, line: e.lineNumber || null, col: e.columnNumber || null, error: e.toString(), ch: 1 });
    const xhr = new XMLHttpRequest();
    xhr.open('POST', 'https://' + domains_delivery + '/jserr.php');
    xhr.setRequestHeader('Content-Type', 'application/json');
    xhr.send(data);
}
